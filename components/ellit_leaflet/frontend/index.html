<!DOCTYPE html>
<html>
  <body style="font-family: Arial; padding:20px;">
    <h2>Ellit Minimal Component</h2>
    <div id="root">Cargando datos...</div>

    <script>
      // Esto hace que Streamlit envíe los datos al frontend
      function onData(event) {
        const payload = event.data;

        // Streamlit envía "streamlit:render" cuando llama al componente
        if (payload.type === "streamlit:render") {
          const data = payload.args.data;

          document.getElementById("root").innerHTML =
            "<pre>" + JSON.stringify(data, null, 2) + "</pre>";

          // Enviar respuesta al backend para que NO se congele
          window.parent.postMessage({ type: "streamlit:componentReady" }, "*");
        }
      }

      window.addEventListener("message", onData);
    </script>
  </body>
</html>
